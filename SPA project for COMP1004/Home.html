<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8">
        
    <!--Stylesheet link-->
    <link rel="stylesheet" href="resources/styles.css" />

    <!--Script file-->
    <script src="resources/website_scripts.js"></script>
    
    <!--Bootstrap link-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>COMP1004 SPA</title>

    <link rel="icon" type="image/x-icon" href="resources/images/180107.jpg" />

</head>

<body>

    <!--Home div tag-->
    <div class="content" id="home">

        <h1>Home Page</h1>

        <br>

        <!--Buttons to switch between screens-->
        <button class="button" onclick="home()">Home</button>

        <button class="button" onclick="class180()">Class 180</button>

        <button class="button" onclick="fileScreen()">Image Upload</button>

        <button class="button" onclick="listScreen()">Loco List</button>

        <br>

        <p></p>

        <br>

        <!--Content is always below the navigation buttons-->
        <img src="resources/images/91101.jpg" alt="180107 at King's Cross" />

        <p>91101 and 387173 at King's Cross</p>

        <br>

        <p>Welcome to the website. This is an application designed to allow for the storage of model locomotive names, numbers, and DCC adresses</p>

        <br>

    </div>

    <!--Generic div-->

    
    <div class="content" id="class180" style="display: none;">

        <h1>British Rail class 180</h1>

        <br>

        <!--Buttons to switch between screens-->


        <button class="button" onclick="home()">Home</button>

        <button class="button" onclick="class180()">Class 180</button>

        <button class="button" onclick="fileScreen()">Image Upload</button>

        <button class="button" onclick="listScreen()">Loco List</button>

        <br>

        <p></p>

        <br>

        <img src="resources/images/180107.jpg" alt="180107 at King's Cross" />

        <p>180107 at King's Cross</p>




        <form id="myForm">
            <input type="number" id="addressInput" name="address" />
            <input type="text" id="nameInput" name="name" />
            <input type="number" id="numberInput" name="number" />
            <button type="submit">Submit</button>
        </form>

        <script>

            const form = document.getElementById('myForm');

            form.addEventListener('submit', function (event) {
                event.preventDefault();

                let isEmpty = false;


                const locoAddress = document.getElementById('addressInput').value;
                const addressParsed = parseInt(locoAddress);

                const locoName = document.getElementById('nameInput').value;

                const number = document.getElementById('numberInput').value;
                const numberParsed = parseInt(number);

                if (!isNaN(addressParsed) && !isNaN(numberParsed)) {

                    const formJSON = {

                        address: addressParsed,
                        name: locoName,
                        number: numberParsed


                    };

                    console.log(formJSON);

                    createTable();

                }

                if (isEmpty) {

                    alert('Please fill out all fields');

                }
                

                



                
                /*
                // 1: get form data
                const formData = new FormData(form);
                // 2: store form data in object
                const jsonObject = Object.fromEntries(formData);
                // 3: convert form data object to a JSON string
                const jsonString = JSON.stringify(jsonObject);

                //parsedString = JSON.parse(jsonObject);

                   */

                //console.log(jsonObject); // '{"name":"John","email":"john@example.com","age":"30"}'
            });









        </script>













        <!--
    <table>
        <tr>
            <th>Number</th>
            <th>Name</th>
            <th>Operator</th>
            <th>Status</th>
        </tr>
        <tr>
            <td>180101</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180102</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180103</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180104</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180105</td>
            <td>Ashley Jackson - The Yorkshire Artist</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180106</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180107</td>
            <td>Hart of the North</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180108</td>
            <td>William Shakespeare</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180109</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Stored</td>
        </tr>
        <tr>
            <td>180110</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Stored</td>
        </tr>
        <tr>
            <td>180111</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Stored</td>
        </tr>
        <tr>
            <td>180112</td>
            <td>James Herriot</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>
        <tr>
            <td>180113</td>
            <td>N/A</td>
            <td>Grand Central</td>
            <td>Stored</td>
        </tr>
        <tr>
            <td>180114</td>
            <td>Kirkgate Calling</td>
            <td>Grand Central</td>
            <td>Operational</td>
        </tr>

    </table>

    -->

        <script>



        </script>

    </div>

    <!--Screen for uploading images-->
    <div class="content" id="uploadScreen" style="display: none;">

        <h1>Upload your file</h1>

        <br>

        <!--Buttons to switch between screens-->
        <button class="button" onclick="home()">Home</button>

        <button class="button" onclick="class180()">Class 180</button>

        <button class="button" onclick="fileScreen()">Image Upload</button>

        <button class="button" onclick="listScreen()">Loco List</button>

        <br>

        <p></p>

        <form id="fileUploadForm" action="/upload" enctype="multipart/form-data" method="post">
            <input type="file" name="imageFile" id="imageFile" accept="image/*" required multiple />
            <button type="submit">Upload Image</button>
        </form>

    </div>

    <!--Screen to display the contents of locos.json/creating table entries-->
    <div class="content" id="ListScreen" style="display: none;">

        <h1>Add a new locomotive</h1>

        <br>

        <!--Buttons to switch between screens-->
        <button class="button" onclick="home()">Home</button>

        <button class="button" onclick="class180()">Class 180</button>

        <button class="button" onclick="fileScreen()">Image Upload</button>

        <button class="button" onclick="listScreen()">Loco List</button>

        <br>

        <p></p>

        <p>Use the panel below to add a new locomotive to your roster</p>

        <div id="table-container"></div>

        <script>

            readJSON();

        </script>

    </div>

</body>

</html>